{"ast":null,"code":"import _regeneratorRuntime from\"/home/dung/Documents/springTechMaster/DAY19/hook-v2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/dung/Documents/springTechMaster/DAY19/hook-v2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/dung/Documents/springTechMaster/DAY19/hook-v2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";/*\nuseEffect(callback, dependences)\n  TH1: useEffect(callback)   :Được gọi sau mỗi lần re-render\n  TH2: useEffect(callback, []): Chỉ được gọi 1 lần duy nhất sau lần render đầu tiên\n  TH3: useEffect(callback, [deps]) : Được gọi khi deps thay đổi giá trị\n\n  Đặc điểm chung: đều chạy sau lần render đầu tiên\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Post(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),count1=_useState4[0],setCount1=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),posts=_useState6[0],setPosts=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(\"posts\"),_useState10=_slicedToArray(_useState9,2),type=_useState10[0],setType=_useState10[1];useEffect(function(){var getPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return axios.get(\"https://jsonplaceholder.typicode.com/\".concat(type));case 4:res=_context.sent;console.log(res);setPosts(res.data);setTimeout(function(){setLoading(false);},1000);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function getPosts(){return _ref.apply(this,arguments);};}();getPosts();},[type]);//TH1 : useEffect(callback)\n// useEffect(() => {\n//   console.log(\"useEffect(callback)\");\n// })\n// TH2: useEffect(callback, [])\n// useEffect(() => {\n//   console.log(\"useEffect(callback, [])\");\n// }, []);\n// TH3: useEffect(callback, [deps])\n// useEffect(() => {\n//   console.log(\"useEffect(callback, [])\");\n// }, [count]);\nvar increment=function increment(){setCount(count+1);// bất đồng bộ\nconsole.log(count);};var decrement=function decrement(){setCount(function(count){return count-1;});// state moi duoc tinh theo state cu\n};var increment1=function increment1(){setCount1(count+1);// bất đồng bộ\nconsole.log(count);};var decrement1=function decrement1(){setCount1(function(count){return count-1;});// state moi duoc tinh theo state cu\n};if(loading){return/*#__PURE__*/_jsx(\"h2\",{children:\"Loading....\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[console.log(\"render\"),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Count : \",count]}),/*#__PURE__*/_jsx(\"button\",{onClick:increment,children:\"Increment\"}),/*#__PURE__*/_jsx(\"button\",{onClick:decrement,children:\"Decrement\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Count1 : \",count1]}),/*#__PURE__*/_jsx(\"button\",{onClick:increment1,children:\"Increment\"}),/*#__PURE__*/_jsx(\"button\",{onClick:decrement1,children:\"Decrement\"}),/*#__PURE__*/_jsx(\"hr\",{}),[\"posts\",\"comments\",\"albums\"].map(function(ele,index){return/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setType(ele);},style:type===ele?{backgroundColor:\"red\"}:{},children:ele},index);}),/*#__PURE__*/_jsx(\"ul\",{children:posts.map(function(ele,index){return/*#__PURE__*/_jsx(\"li\",{children:ele.title||ele.body},index);})})]});}export default Post;","map":{"version":3,"names":["axios","React","useEffect","useState","Post","count","setCount","count1","setCount1","posts","setPosts","loading","setLoading","type","setType","getPosts","get","res","console","log","data","setTimeout","increment","decrement","increment1","decrement1","map","ele","index","backgroundColor","title","body"],"sources":["/home/dung/Documents/springTechMaster/DAY19/hook-v2/src/component/post/Post.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\n\n/*\nuseEffect(callback, dependences)\n  TH1: useEffect(callback)   :Được gọi sau mỗi lần re-render\n  TH2: useEffect(callback, []): Chỉ được gọi 1 lần duy nhất sau lần render đầu tiên\n  TH3: useEffect(callback, [deps]) : Được gọi khi deps thay đổi giá trị\n\n  Đặc điểm chung: đều chạy sau lần render đầu tiên\n*/\n\nfunction Post() {\n\tconst [count, setCount] = useState(0);\n\tconst [count1, setCount1] = useState(0);\n\tconst [posts, setPosts] = useState([]);\n\tconst [loading, setLoading] = useState(true);\n\tconst [type, setType] = useState(\"posts\");\n\n\tuseEffect(() => {\n\t\tconst getPosts = async () => {\n\t\t\ttry {\n\t\t\t\tsetLoading(true);\n\t\t\t\tlet res = await axios.get(\n\t\t\t\t\t`https://jsonplaceholder.typicode.com/${type}`\n\t\t\t\t);\n\t\t\t\tconsole.log(res);\n\t\t\t\tsetPosts(res.data);\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t}, 1000);\n\t\t\t} catch (error) {console.log(error);}};\n\t\tgetPosts();\n\t}, [type]);\n\n\t//TH1 : useEffect(callback)\n\t// useEffect(() => {\n\t//   console.log(\"useEffect(callback)\");\n\t// })\n\n\t// TH2: useEffect(callback, [])\n\t// useEffect(() => {\n\t//   console.log(\"useEffect(callback, [])\");\n\t// }, []);\n\n\t// TH3: useEffect(callback, [deps])\n\t// useEffect(() => {\n\t//   console.log(\"useEffect(callback, [])\");\n\t// }, [count]);\n\n\tconst increment = () => {\n\t\tsetCount(count + 1); // bất đồng bộ\n\t\tconsole.log(count);\n\t};\n\tconst decrement = () => {\n\t\tsetCount((count) => count - 1); // state moi duoc tinh theo state cu\n\t};\n\n\tconst increment1 = () => {\n\t\tsetCount1(count + 1); // bất đồng bộ\n\t\tconsole.log(count);\n\t};\n\tconst decrement1 = () => {\n\t\tsetCount1((count) => count - 1); // state moi duoc tinh theo state cu\n\t};\n\n\tif (loading) {\n\t\treturn <h2>Loading....</h2>;\n\t}\n\treturn (\n\t\t<>\n\t\t\t{console.log(\"render\")}\n\t\t\t<h1>Count : {count}</h1>\n\t\t\t<button onClick={increment}>Increment</button>\n\t\t\t<button onClick={decrement}>Decrement</button>\n\t\t\t<hr />\n\t\t\t<h1>Count1 : {count1}</h1>\n\t\t\t<button onClick={increment1}>Increment</button>\n\t\t\t<button onClick={decrement1}>Decrement</button>\n\t\t\t<hr />\n\t\t\t{/* \t\t\t\n\t\t\t<button\n\t\t\t\tonClick={() => setType(\"posts\")}\n\t\t\t\tstyle={type === \"posts\" ? { backgroundColor: \"red\" } : {}}\n\t\t\t>\n\t\t\t\tposts\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tonClick={() => setType(\"comments\")}\n\t\t\t\tstyle={type === \"comments\" ? { backgroundColor: \"red\" } : {}}\n\t\t\t>\n\t\t\t\tcomments\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tonClick={() => setType(\"albums\")}\n\t\t\t\tstyle={type === \"albums\" ? { backgroundColor: \"red\" } : {}}\n\t\t\t>\n\t\t\t\talbums\n\t\t\t</button> */}\n\t\t\t{[\"posts\", \"comments\", \"albums\"].map((ele, index) => (\n\t\t\t\t<button\n\t\t\t\t\tkey={index}\n\t\t\t\t\tonClick={() => setType(ele)}\n\t\t\t\t\tstyle={type === ele ? { backgroundColor: \"red\" } : {}}\n\t\t\t\t>{ele}</button>\n\t\t\t))}\n\t\t\t<ul>\n\t\t\t\t{posts.map((ele, index) => (\n\t\t\t\t\t<li key={index}>{ele.title || ele.body}</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</>\n\t);\n}\n\nexport default Post;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}